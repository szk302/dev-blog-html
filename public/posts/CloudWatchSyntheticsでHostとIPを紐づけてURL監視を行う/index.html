<!doctype html><html lang=ja dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>CloudWatchSyntheticsでHostとIPを紐づけてURL監視を行う | Szk302 Tech Blog</title><meta name=keywords content="AWS,CloudWatch Synthetics,Puppeteer,Chromium"><meta name=description content="CloudWatch SyntheticsでHostとIPを紐づけてURL監視を行う。 以下の条件でURL監視したいとのことなので調査 マネージドサービスがいい 名前"><meta name=author content="Szk302"><link rel=canonical href=https://szk302.dev/posts/CloudWatchSynthetics%E3%81%A7Host%E3%81%A8IP%E3%82%92%E7%B4%90%E3%81%A5%E3%81%91%E3%81%A6URL%E7%9B%A3%E8%A6%96%E3%82%92%E8%A1%8C%E3%81%86/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.css rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.js onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://www.gravatar.com/avatar/d9669165d1baf624cedab4afc3dfcc42><link rel=icon type=image/png sizes=16x16 href="https://www.gravatar.com/avatar/d9669165d1baf624cedab4afc3dfcc42?p=16"><link rel=icon type=image/png sizes=32x32 href="https://www.gravatar.com/avatar/d9669165d1baf624cedab4afc3dfcc42?p=32"><link rel=apple-touch-icon href=https://www.gravatar.com/avatar/d9669165d1baf624cedab4afc3dfcc42><link rel=mask-icon href=https://www.gravatar.com/avatar/d9669165d1baf624cedab4afc3dfcc42><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-212898668-1","auto"),ga("send","pageview"))</script><meta property="og:title" content="CloudWatchSyntheticsでHostとIPを紐づけてURL監視を行う"><meta property="og:description" content="CloudWatch SyntheticsでHostとIPを紐づけてURL監視を行う。 以下の条件でURL監視したいとのことなので調査 マネージドサービスがいい 名前"><meta property="og:type" content="article"><meta property="og:url" content="https://szk302.dev/posts/CloudWatchSynthetics%E3%81%A7Host%E3%81%A8IP%E3%82%92%E7%B4%90%E3%81%A5%E3%81%91%E3%81%A6URL%E7%9B%A3%E8%A6%96%E3%82%92%E8%A1%8C%E3%81%86/"><meta property="og:image" content="https://www.gravatar.com/avatar/d9669165d1baf624cedab4afc3dfcc42"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-08-31T08:54:00+09:00"><meta property="article:modified_time" content="2022-08-31T08:54:00+09:00"><meta property="og:site_name" content="Szk302 Teck Blog"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.gravatar.com/avatar/d9669165d1baf624cedab4afc3dfcc42"><meta name=twitter:title content="CloudWatchSyntheticsでHostとIPを紐づけてURL監視を行う"><meta name=twitter:description content="CloudWatch SyntheticsでHostとIPを紐づけてURL監視を行う。 以下の条件でURL監視したいとのことなので調査 マネージドサービスがいい 名前"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://szk302.dev/posts/"},{"@type":"ListItem","position":2,"name":"CloudWatchSyntheticsでHostとIPを紐づけてURL監視を行う","item":"https://szk302.dev/posts/CloudWatchSynthetics%E3%81%A7Host%E3%81%A8IP%E3%82%92%E7%B4%90%E3%81%A5%E3%81%91%E3%81%A6URL%E7%9B%A3%E8%A6%96%E3%82%92%E8%A1%8C%E3%81%86/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"CloudWatchSyntheticsでHostとIPを紐づけてURL監視を行う","name":"CloudWatchSyntheticsでHostとIPを紐づけてURL監視を行う","description":"CloudWatch SyntheticsでHostとIPを紐づけてURL監視を行う。 以下の条件でURL監視したいとのことなので調査 マネージドサービスがいい 名前","keywords":["AWS","CloudWatch Synthetics","Puppeteer","Chromium"],"articleBody":" CloudWatch SyntheticsでHostとIPを紐づけてURL監視を行う。\n以下の条件でURL監視したいとのことなので調査\nマネージドサービスがいい\n名前を公開したくない\n監視対象はHTTPS\nVPC作りたくない。既存のVPCにアタッチしたくない\nNote VPCにデプロイできるならプライベートホストゾーンを使用すればいいはず。 証明書検証をOFFにするフラグもあった気がするけど、今回は別の方法を調査\n方法 Syntheticsの中身はpuppetterでpuppetterはchromiumを使用しているのでchromiumにオプションを渡す方法を調査した。\n以下のオプションを指定すれば良い。複数指定は,で区切る\n--host-resolver-rules=\"MAP ${HOST_1} ${IP_1},MAP ${HOST_2} ${IP_2}\"\n以下、SyntheticsでCanary作成時に生成されるスクリプトにオプションを追加したもの。 HOSTやIPは環境変数で指定できるようにした。\nScript const { URL } = require('url'); const synthetics = require('Synthetics'); const log = require('SyntheticsLogger'); const syntheticsConfiguration = synthetics.getConfiguration(); const syntheticsLogHelper = require('SyntheticsLogHelper'); // ---- 設定追加 ---- const HOST_1 = process.env.HOST_1 const IP_1 = process.env.IP_1 const HOST_2 = process.env.HOST_2 const IP_2 = process.env.IP_2 // ---- 設定追加 ---- const loadBlueprint = async function () { const urls = ['https://www.szk302.dev/']; // Set screenshot option const takeScreenshot = true; /* Disabling default step screen shots taken during Synthetics.executeStep() calls * Step will be used to publish metrics on time taken to load dom content but * Screenshots will be taken outside the executeStep to allow for page to completely load with domcontentloaded * You can change it to load, networkidle0, networkidle2 depending on what works best for you. */ syntheticsConfiguration.disableStepScreenshots(); syntheticsConfiguration.setConfig({ continueOnStepFailure: true, includeRequestHeaders: true, // Enable if headers should be displayed in HAR includeResponseHeaders: true, // Enable if headers should be displayed in HAR restrictedHeaders: [], // Value of these headers will be redacted from logs and reports restrictedUrlParameters: [] // Values of these url parameters will be redacted from logs and reports }); // ---- 設定追加 ---- const defaultOptions = await synthetics.getDefaultLaunchOptions(); const launchArgs = [...defaultOptions.args, `--host-resolver-rules=MAP ${HOST_1} ${IP_1},MAP ${HOST_2} ${IP_2}`]; await synthetics.launch({ args: launchArgs }); // ---- 設定追加 ---- let page = await synthetics.getPage(); for (const url of urls) { await loadUrl(page, url, takeScreenshot); } }; // Reset the page in-between const resetPage = async function(page) { try { await page.goto('about:blank',{waitUntil: ['load', 'networkidle0'], timeout: 30000} ); } catch(ex) { synthetics.addExecutionError('Unable to open a blank page ', ex); } } const loadUrl = async function (page, url, takeScreenshot) { let stepName = null; let domcontentloaded = false; try { stepName = new URL(url).hostname; } catch (error) { const errorString = `Error parsing url: ${url}. ${error}`; log.error(errorString); /* If we fail to parse the URL, don't emit a metric with a stepName based on it. It may not be a legal CloudWatch metric dimension name and we may not have an alarms setup on the malformed URL stepName. Instead, fail this step which will show up in the logs and will fail the overall canary and alarm on the overall canary success rate. */ throw error; } await synthetics.executeStep(stepName, async function () { const sanitizedUrl = syntheticsLogHelper.getSanitizedUrl(url); /* You can customize the wait condition here. For instance, using 'networkidle2' or 'networkidle0' to load page completely. networkidle0: Navigation is successful when the page has had no network requests for half a second. This might never happen if page is constantly loading multiple resources. networkidle2: Navigation is successful when the page has no more then 2 network requests for half a second. domcontentloaded: It's fired as soon as the page DOM has been loaded, without waiting for resources to finish loading. Can be used and then add explicit await page.waitFor(timeInMs) */ const response = await page.goto(url, { waitUntil: ['domcontentloaded'], timeout: 30000}); if (response) { domcontentloaded = true; const status = response.status(); const statusText = response.statusText(); logResponseString = `Response from url: ${sanitizedUrl} Status: ${status} Status Text: ${statusText}`; //If the response status code is not a 2xx success code if (response.status() \u003c 200 || response.status() \u003e 299) { throw `Failed to load url: ${sanitizedUrl} ${response.status()} ${response.statusText()}`; } } else { const logNoResponseString = `No response returned for url: ${sanitizedUrl}`; log.error(logNoResponseString); throw new Error(logNoResponseString); } }); // Wait for 15 seconds to let page load fully before taking screenshot. if (domcontentloaded \u0026\u0026 takeScreenshot) { await page.waitFor(15000); await synthetics.takeScreenshot(stepName, 'loaded'); await resetPage(page); } }; const urls = []; exports.handler = async () =\u003e { return await loadBlueprint(); } 参考 Node.js Canary スクリプト用のライブラリ関数#ウェブセキュリティを無効にするには、CloudWatch Synthetics の起動パラメータの引数に --disable-web-security フラグを追加します。\nChrome Host Resolution\nWorking with Chrome Extensions\n","wordCount":"1049","inLanguage":"ja","datePublished":"2022-08-31T08:54:00+09:00","dateModified":"2022-08-31T08:54:00+09:00","author":{"@type":"Person","name":"Szk302"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://szk302.dev/posts/CloudWatchSynthetics%E3%81%A7Host%E3%81%A8IP%E3%82%92%E7%B4%90%E3%81%A5%E3%81%91%E3%81%A6URL%E7%9B%A3%E8%A6%96%E3%82%92%E8%A1%8C%E3%81%86/"},"publisher":{"@type":"Organization","name":"Szk302 Tech Blog","logo":{"@type":"ImageObject","url":"https://www.gravatar.com/avatar/d9669165d1baf624cedab4afc3dfcc42"}}}</script></head><body class=dark id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://szk302.dev/ accesskey=h title="Szk302 Teck Blog (Alt + H)"><img src=https://www.gravatar.com/avatar/d9669165d1baf624cedab4afc3dfcc42 alt aria-label=logo height=35>Szk302 Teck Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://szk302.dev/categories/ title=カテゴリ><span>カテゴリ</span></a></li><li><a href=https://szk302.dev/tags/ title=タグ><span>タグ</span></a></li><li><a href=https://szk302.dev/search/ title=検索><span>検索</span></a></li><li><a href=https://szk302.dev/fixed/books title=Books><span>Books</span></a></li><li><a href=https://szk302.dev/fixed/profile title=プロフィール><span>プロフィール</span></a></li><li><a href=https://szk302.dev/fixed/blog title=このブログについて><span>このブログについて</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://szk302.dev/>ホーム</a>&nbsp;»&nbsp;<a href=https://szk302.dev/posts/>Posts</a></div><h1 class=post-title>CloudWatchSyntheticsでHostとIPを紐づけてURL監視を行う</h1><div class=post-meta><span title='2022-08-31 08:54:00 +0900 +0900'>2022-08-31T08:54:00+09:00</span>&nbsp;·&nbsp;3 分&nbsp;·&nbsp;Szk302&nbsp;|&nbsp;<a href=https://github.com/szk302/dev-blog-content/blob/main/posts/CloudWatchSynthetics%e3%81%a7Host%e3%81%a8IP%e3%82%92%e7%b4%90%e3%81%a5%e3%81%91%e3%81%a6URL%e7%9b%a3%e8%a6%96%e3%82%92%e8%a1%8c%e3%81%86.adoc rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=post-content><div id=preamble><div class=sectionbody><div class=paragraph><p>CloudWatch SyntheticsでHostとIPを紐づけてURL監視を行う。</p></div><div class=paragraph><p>以下の条件でURL監視したいとのことなので調査</p></div><div class=ulist><ul><li><p>マネージドサービスがいい</p></li><li><p>名前を公開したくない</p></li><li><p>監視対象はHTTPS</p></li><li><p>VPC作りたくない。既存のVPCにアタッチしたくない</p></li></ul></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><div class=title>Note</div></td><td class=content>VPCにデプロイできるならプライベートホストゾーンを使用すればいいはず。</td></tr></tbody></table></div><div class=paragraph><p>証明書検証をOFFにするフラグもあった気がするけど、今回は別の方法を調査</p></div></div></div><div class=sect1><h2 id=_方法>方法<a hidden class=anchor aria-hidden=true href=#_方法>#</a></h2><div class=sectionbody><div class=paragraph><p>Syntheticsの中身はpuppetterでpuppetterはchromiumを使用しているのでchromiumにオプションを渡す方法を調査した。</p></div><div class=paragraph><p>以下のオプションを指定すれば良い。複数指定は,で区切る</p></div><div class=ulist><ul><li><p>--host-resolver-rules="MAP ${HOST_1} ${IP_1},MAP ${HOST_2} ${IP_2}"</p></li></ul></div><div class=paragraph><p>以下、SyntheticsでCanary作成時に生成されるスクリプトにオプションを追加したもの。<br>HOSTやIPは環境変数で指定できるようにした。</p></div><div class=listingblock><div class=title>Script</div><div class=content><pre class=highlight><code class=language-js data-lang=js>const { URL } = require(&#39;url&#39;);
const synthetics = require(&#39;Synthetics&#39;);
const log = require(&#39;SyntheticsLogger&#39;);
const syntheticsConfiguration = synthetics.getConfiguration();
const syntheticsLogHelper = require(&#39;SyntheticsLogHelper&#39;);


// ---- 設定追加 ----
const HOST_1 = process.env.HOST_1
const IP_1 = process.env.IP_1
const HOST_2 = process.env.HOST_2
const IP_2 = process.env.IP_2
// ---- 設定追加 ----

const loadBlueprint = async function () {

    const urls = [&#39;https://www.szk302.dev/&#39;];

    // Set screenshot option
    const takeScreenshot = true;

    /* Disabling default step screen shots taken during Synthetics.executeStep() calls
     * Step will be used to publish metrics on time taken to load dom content but
     * Screenshots will be taken outside the executeStep to allow for page to completely load with domcontentloaded
     * You can change it to load, networkidle0, networkidle2 depending on what works best for you.
     */
    syntheticsConfiguration.disableStepScreenshots();
    syntheticsConfiguration.setConfig({
       continueOnStepFailure: true,
       includeRequestHeaders: true, // Enable if headers should be displayed in HAR
       includeResponseHeaders: true, // Enable if headers should be displayed in HAR
       restrictedHeaders: [], // Value of these headers will be redacted from logs and reports
       restrictedUrlParameters: [] // Values of these url parameters will be redacted from logs and reports

    });

    // ---- 設定追加 ----
    const defaultOptions = await synthetics.getDefaultLaunchOptions();
    const launchArgs = [...defaultOptions.args, `--host-resolver-rules=MAP ${HOST_1} ${IP_1},MAP ${HOST_2} ${IP_2}`];
    await synthetics.launch({
       args: launchArgs
    });
    // ---- 設定追加 ----

    let page = await synthetics.getPage();

    for (const url of urls) {
        await loadUrl(page, url, takeScreenshot);
    }
};

// Reset the page in-between
const resetPage = async function(page) {
    try {
        await page.goto(&#39;about:blank&#39;,{waitUntil: [&#39;load&#39;, &#39;networkidle0&#39;], timeout: 30000} );
    } catch(ex) {
        synthetics.addExecutionError(&#39;Unable to open a blank page &#39;, ex);
    }
}

const loadUrl = async function (page, url, takeScreenshot) {
    let stepName = null;
    let domcontentloaded = false;

    try {
        stepName = new URL(url).hostname;
    } catch (error) {
        const errorString = `Error parsing url: ${url}.  ${error}`;
        log.error(errorString);
        /* If we fail to parse the URL, don&#39;t emit a metric with a stepName based on it.
           It may not be a legal CloudWatch metric dimension name and we may not have an alarms
           setup on the malformed URL stepName.  Instead, fail this step which will
           show up in the logs and will fail the overall canary and alarm on the overall canary
           success rate.
        */
        throw error;
    }

    await synthetics.executeStep(stepName, async function () {
        const sanitizedUrl = syntheticsLogHelper.getSanitizedUrl(url);

        /* You can customize the wait condition here. For instance, using &#39;networkidle2&#39; or &#39;networkidle0&#39; to load page completely.
           networkidle0: Navigation is successful when the page has had no network requests for half a second. This might never happen if page is constantly loading multiple resources.
           networkidle2: Navigation is successful when the page has no more then 2 network requests for half a second.
           domcontentloaded: It&#39;s fired as soon as the page DOM has been loaded, without waiting for resources to finish loading. Can be used and then add explicit await page.waitFor(timeInMs)
        */
        const response = await page.goto(url, { waitUntil: [&#39;domcontentloaded&#39;], timeout: 30000});
        if (response) {
            domcontentloaded = true;
            const status = response.status();
            const statusText = response.statusText();

            logResponseString = `Response from url: ${sanitizedUrl}  Status: ${status}  Status Text: ${statusText}`;

            //If the response status code is not a 2xx success code
            if (response.status() &lt; 200 || response.status() &gt; 299) {
                throw `Failed to load url: ${sanitizedUrl} ${response.status()} ${response.statusText()}`;
            }
        } else {
            const logNoResponseString = `No response returned for url: ${sanitizedUrl}`;
            log.error(logNoResponseString);
            throw new Error(logNoResponseString);
        }
    });

    // Wait for 15 seconds to let page load fully before taking screenshot.
    if (domcontentloaded &amp;&amp; takeScreenshot) {
        await page.waitFor(15000);
        await synthetics.takeScreenshot(stepName, &#39;loaded&#39;);
        await resetPage(page);
    }
};

const urls = [];

exports.handler = async () =&gt; {
    return await loadBlueprint();
}</code></pre></div></div></div></div><div class=sect1><h2 id=_参考>参考<a hidden class=anchor aria-hidden=true href=#_参考>#</a></h2><div class=sectionbody><div class=ulist><ul><li><p><a href=https://docs.aws.amazon.com/ja_jp/AmazonCloudWatch/latest/monitoring/CloudWatch_Synthetics_Canaries_Library_Nodejs.html>Node.js Canary スクリプト用のライブラリ関数#ウェブセキュリティを無効にするには、CloudWatch Synthetics の起動パラメータの引数に --disable-web-security フラグを追加します。</a></p></li><li><p><a href=https://chromium.googlesource.com/chromium/src/+/main/net/dns/README.md>Chrome Host Resolution</a></p></li><li><p><a href=https://pptr.dev/#working-with-chrome-extensions>Working with Chrome Extensions</a></p></li></ul></div></div></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://szk302.dev/tags/AWS/>AWS</a></li><li><a href=https://szk302.dev/tags/CloudWatch-Synthetics/>CloudWatch Synthetics</a></li><li><a href=https://szk302.dev/tags/Puppeteer/>Puppeteer</a></li><li><a href=https://szk302.dev/tags/Chromium/>Chromium</a></li></ul><nav class=paginav><a class=next href=https://szk302.dev/posts/watch%E3%82%92%E4%BD%BF%E7%94%A8%E3%81%97%E3%81%A6%E3%83%90%E3%83%83%E3%82%AF%E3%82%B0%E3%83%A9%E3%82%A6%E3%83%B3%E3%83%89%E3%81%A7%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89%E3%82%92%E5%AE%9A%E6%9C%9F%E5%AE%9F%E8%A1%8C%E3%81%99%E3%82%8B/><span class=title>次のページ »</span><br><span>watchを使用してバックグラウンドでコマンドを定期実行する</span></a></nav><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share CloudWatchSyntheticsでHostとIPを紐づけてURL監視を行う on twitter" href="https://twitter.com/intent/tweet/?text=CloudWatchSynthetics%e3%81%a7Host%e3%81%a8IP%e3%82%92%e7%b4%90%e3%81%a5%e3%81%91%e3%81%a6URL%e7%9b%a3%e8%a6%96%e3%82%92%e8%a1%8c%e3%81%86&url=https%3a%2f%2fszk302.dev%2fposts%2fCloudWatchSynthetics%25E3%2581%25A7Host%25E3%2581%25A8IP%25E3%2582%2592%25E7%25B4%2590%25E3%2581%25A5%25E3%2581%2591%25E3%2581%25A6URL%25E7%259B%25A3%25E8%25A6%2596%25E3%2582%2592%25E8%25A1%258C%25E3%2581%2586%2f&hashtags=AWS%2cCloudWatchSynthetics%2cPuppeteer%2cChromium"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share CloudWatchSyntheticsでHostとIPを紐づけてURL監視を行う on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fszk302.dev%2fposts%2fCloudWatchSynthetics%25E3%2581%25A7Host%25E3%2581%25A8IP%25E3%2582%2592%25E7%25B4%2590%25E3%2581%25A5%25E3%2581%2591%25E3%2581%25A6URL%25E7%259B%25A3%25E8%25A6%2596%25E3%2582%2592%25E8%25A1%258C%25E3%2581%2586%2f&title=CloudWatchSynthetics%e3%81%a7Host%e3%81%a8IP%e3%82%92%e7%b4%90%e3%81%a5%e3%81%91%e3%81%a6URL%e7%9b%a3%e8%a6%96%e3%82%92%e8%a1%8c%e3%81%86&summary=CloudWatchSynthetics%e3%81%a7Host%e3%81%a8IP%e3%82%92%e7%b4%90%e3%81%a5%e3%81%91%e3%81%a6URL%e7%9b%a3%e8%a6%96%e3%82%92%e8%a1%8c%e3%81%86&source=https%3a%2f%2fszk302.dev%2fposts%2fCloudWatchSynthetics%25E3%2581%25A7Host%25E3%2581%25A8IP%25E3%2582%2592%25E7%25B4%2590%25E3%2581%25A5%25E3%2581%2591%25E3%2581%25A6URL%25E7%259B%25A3%25E8%25A6%2596%25E3%2582%2592%25E8%25A1%258C%25E3%2581%2586%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share CloudWatchSyntheticsでHostとIPを紐づけてURL監視を行う on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fszk302.dev%2fposts%2fCloudWatchSynthetics%25E3%2581%25A7Host%25E3%2581%25A8IP%25E3%2582%2592%25E7%25B4%2590%25E3%2581%25A5%25E3%2581%2591%25E3%2581%25A6URL%25E7%259B%25A3%25E8%25A6%2596%25E3%2582%2592%25E8%25A1%258C%25E3%2581%2586%2f&title=CloudWatchSynthetics%e3%81%a7Host%e3%81%a8IP%e3%82%92%e7%b4%90%e3%81%a5%e3%81%91%e3%81%a6URL%e7%9b%a3%e8%a6%96%e3%82%92%e8%a1%8c%e3%81%86"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share CloudWatchSyntheticsでHostとIPを紐づけてURL監視を行う on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fszk302.dev%2fposts%2fCloudWatchSynthetics%25E3%2581%25A7Host%25E3%2581%25A8IP%25E3%2582%2592%25E7%25B4%2590%25E3%2581%25A5%25E3%2581%2591%25E3%2581%25A6URL%25E7%259B%25A3%25E8%25A6%2596%25E3%2582%2592%25E8%25A1%258C%25E3%2581%2586%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share CloudWatchSyntheticsでHostとIPを紐づけてURL監視を行う on whatsapp" href="https://api.whatsapp.com/send?text=CloudWatchSynthetics%e3%81%a7Host%e3%81%a8IP%e3%82%92%e7%b4%90%e3%81%a5%e3%81%91%e3%81%a6URL%e7%9b%a3%e8%a6%96%e3%82%92%e8%a1%8c%e3%81%86%20-%20https%3a%2f%2fszk302.dev%2fposts%2fCloudWatchSynthetics%25E3%2581%25A7Host%25E3%2581%25A8IP%25E3%2582%2592%25E7%25B4%2590%25E3%2581%25A5%25E3%2581%2591%25E3%2581%25A6URL%25E7%259B%25A3%25E8%25A6%2596%25E3%2582%2592%25E8%25A1%258C%25E3%2581%2586%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share CloudWatchSyntheticsでHostとIPを紐づけてURL監視を行う on telegram" href="https://telegram.me/share/url?text=CloudWatchSynthetics%e3%81%a7Host%e3%81%a8IP%e3%82%92%e7%b4%90%e3%81%a5%e3%81%91%e3%81%a6URL%e7%9b%a3%e8%a6%96%e3%82%92%e8%a1%8c%e3%81%86&url=https%3a%2f%2fszk302.dev%2fposts%2fCloudWatchSynthetics%25E3%2581%25A7Host%25E3%2581%25A8IP%25E3%2582%2592%25E7%25B4%2590%25E3%2581%25A5%25E3%2581%2591%25E3%2581%25A6URL%25E7%259B%25A3%25E8%25A6%2596%25E3%2582%2592%25E8%25A1%258C%25E3%2581%2586%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer></article></main><footer class=footer><span>Copyright (c) 2021年 Szk302</span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>